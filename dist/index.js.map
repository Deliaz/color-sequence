{"version":3,"file":"index.js","sources":["../node_modules/hash-sum/hash-sum.js","../src/index.js"],"sourcesContent":["'use strict';\n\nfunction pad (hash, len) {\n  while (hash.length < len) {\n    hash = '0' + hash;\n  }\n  return hash;\n}\n\nfunction fold (hash, text) {\n  var i;\n  var chr;\n  var len;\n  if (text.length === 0) {\n    return hash;\n  }\n  for (i = 0, len = text.length; i < len; i++) {\n    chr = text.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash |= 0;\n  }\n  return hash < 0 ? hash * -2 : hash;\n}\n\nfunction foldObject (hash, o, seen) {\n  return Object.keys(o).sort().reduce(foldKey, hash);\n  function foldKey (hash, key) {\n    return foldValue(hash, o[key], key, seen);\n  }\n}\n\nfunction foldValue (input, value, key, seen) {\n  var hash = fold(fold(fold(input, key), toString(value)), typeof value);\n  if (value === null) {\n    return fold(hash, 'null');\n  }\n  if (value === undefined) {\n    return fold(hash, 'undefined');\n  }\n  if (typeof value === 'object' || typeof value === 'function') {\n    if (seen.indexOf(value) !== -1) {\n      return fold(hash, '[Circular]' + key);\n    }\n    seen.push(value);\n\n    var objHash = foldObject(hash, value, seen)\n\n    if (!('valueOf' in value) || typeof value.valueOf !== 'function') {\n      return objHash;\n    }\n\n    try {\n      return fold(objHash, String(value.valueOf()))\n    } catch (err) {\n      return fold(objHash, '[valueOf exception]' + (err.stack || err.message))\n    }\n  }\n  return fold(hash, value.toString());\n}\n\nfunction toString (o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction sum (o) {\n  return pad(foldValue(0, o, '', []).toString(16), 8);\n}\n\nmodule.exports = sum;\n","import sum from 'hash-sum';\n\nconst BASE_L = 52; // hLs\nconst RANGE_L = 20;\nconst BASE_S = 63; // hlS\nconst RANGE_S = 25;\n\nconst HUE_STEP = 5;\n\nfunction toHSL(h, s, l) {\n  return `hsl(${h},${s}%,${l}%)`;\n}\n\nexport default function(str, index = 0, opts) {\n  const step = opts.hueStep || HUE_STEP;\n  const l = opts.lightness || BASE_L;\n  const s = opts.saturation || BASE_S;\n  const direction = opts.reverse ? -1 : 1;\n\n  const hashNum = parseInt(sum(str),16);\n  const baseH = parseInt(hashNum % 359); // 359 is a prime\n  const currentH = (baseH + (index * step * direction)) % 360;\n\n  // const s = BASE_S + RANGE_S - (hashNum % RANGE_S);\n  // const l = BASE_L + RANGE_L - ((hashNum + str.length) % RANGE_L);\n\n  return toHSL(currentH, s, l);\n};"],"names":["fold","hash","text","i","len","length","charCodeAt","str","index","opts","step","hueStep","l","lightness","s","saturation","direction","reverse","hashNum","parseInt","pad","foldValue","input","value","key","seen","Object","prototype","toString","call","undefined","indexOf","push","objHash","o","keys","sort","reduce","foldObject","valueOf","String","err","stack","message","h","toHSL"],"mappings":"AASA,SAASA,EAAMC,EAAMC,GACnB,IAAIC,EAEAC,EACJ,GAAoB,IAAhBF,EAAKG,OACP,OAAOJ,EAET,IAAKE,EAAI,EAAGC,EAAMF,EAAKG,OAAQF,EAAIC,EAAKD,IAEtCF,GAASA,GAAQ,GAAKA,EADhBC,EAAKI,WAAWH,GAEtBF,GAAQ,EAEV,OAAOA,EAAO,GAAY,EAARA,EAAYA,iBCRhC,SAAwBM,EAAKC,EAAWC,YAAXD,IAAAA,EAAQ,GACnC,IAAME,EAAOD,EAAKE,SAPH,EAQTC,EAAIH,EAAKI,WAbF,GAcPC,EAAIL,EAAKM,YAZF,GAaPC,EAAYP,EAAKQ,SAAW,EAAI,EAEhCC,EAAUC,SDjBlB,SAAclB,EAAMG,GAClB,KAAOH,EAAKI,OA8DqC,GA7D/CJ,EAAO,IAAMA,EAEf,OAAOA,EA2DAmB,CAlCT,SAASC,EAAWC,EAAOC,EAAOC,EAAKC,GACrC,IAAIxB,EAAOD,EAAKA,EAAKA,EAAKsB,EAAOE,GA6B1BE,OAAOC,UAAUC,SAASC,KA7BeN,WAAgBA,GAChE,GAAc,OAAVA,EACF,OAAOvB,EAAKC,EAAM,QAEpB,QAAc6B,IAAVP,EACF,OAAOvB,EAAKC,EAAM,aAEpB,GAAqB,iBAAVsB,GAAuC,mBAAVA,EAAsB,CAC5D,IAA6B,IAAzBE,EAAKM,QAAQR,GACf,OAAOvB,EAAKC,EAAM,aAAeuB,GAEnCC,EAAKO,KAAKT,GAEV,IAAIU,EArBR,SAAqBhC,EAAMiC,EAAGT,GAC5B,OAAOC,OAAOS,KAAKD,GAAGE,OAAOC,OAC7B,SAAkBpC,EAAMuB,GACtB,OAAOH,EAAUpB,EAAMiC,EAAEV,GAAMA,EAAKC,IAFOxB,GAoB7BqC,CAAWrC,EAAMsB,EAAOE,GAEtC,KAAM,YAAaF,IAAmC,mBAAlBA,EAAMgB,QACxC,OAAON,EAGT,IACE,OAAOjC,EAAKiC,EAASO,OAAOjB,EAAMgB,YAClC,MAAOE,GACP,OAAOzC,EAAKiC,EAAS,uBAAyBQ,EAAIC,OAASD,EAAIE,WAGnE,OAAO3C,EAAKC,EAAMsB,EAAMK,YAQbP,CAAU,EC9CQd,ED8CF,GAAI,IAAIqB,SAAS,KC9CV,IAOlC,OAjBF,SAAegB,EAAG9B,EAAGF,GACnB,aAAcgC,MAAK9B,OAAMF,OAgBlBiC,EANO1B,SAASD,EAAU,KACNV,EAAQE,EAAOM,GAAc,IAKjCF,EAAGF"}